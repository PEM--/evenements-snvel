dns:
  build: dns
  log_driver: "json-file"
  volumes:
    - /var/bind/:/var/bind/
  ports:
    - "192.168.1.50:53:53"
    - "192.168.1.50:53:53/udp"

mail:
  build: mail
  log_driver: "json-file"
  volumes:
  - ./postfix:/tmp/postfix/
  hostname: mail
  domainname: pem.paris
  ports:
  # SMTP
  - "192.168.1.50:25:25"
  - "192.168.1.50:25:25/udp"

nodemail:
  build: nodemail
  log_driver: "json-file"
  volumes:
  - ./spamassassin:/tmp/spamassassin/
  - ./postfix:/tmp/postfix/
  hostname: nodemail
  domainname: pem.paris
  # ports:
  # SMTP
  # - "192.168.1.50:25:25"
  # - "192.168.1.50:25:25/udp"
  # ESMTP (SMTP over SSL)
  # - "192.168.1.50:587:587"
  # - "192.168.1.50:587:587/udp"
  # IMAP
  # - "192.168.1.50:143:143"
  # IMAP over SSL
  # - "192.168.1.50:993:993"

mailcatcher:
  build: mailcatcher
  log_driver: "json-file"
  ports:
  # SMTP
  - "192.168.1.50:25:1025"
  - "192.168.1.50:25:1025/udp"
  # HTTP access
  - "192.168.1.50:8080:1080"
